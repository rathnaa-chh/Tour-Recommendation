<div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://static.vecteezy.com/system/resources/previews/018/780/300/non_2x/welcome-to-cambodia-country-text-typography-with-red-love-heart-and-black-name-vector.jpg" class="d-block w-100" class="d-block w-100" alt="...">
    </div>
    <!-- <div class="carousel-item">
      <img src="https://media.bookmundi.com/tour/angkor-temples-and-lost-city-of-ta-prohm-private-tour-532046-1604992543.jpeg?format=auto&quality=70&width=480" class="d-block w-100" alt="...">
    </div> -->
    <div class="carousel-item">
      <img src="Dark Brown Simple Modern Tour Series YouTube Thumbnail.jpg" class="d-block w-100" alt="...">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<h3>Welcome To Tour-Recommendation</h3>
<div class="image_gal">
    <img src="https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcQJQjPDrmmPyTY1bMozva86Td3xFN1uushfoTRlzkaj0eeZklootsbRbzzTWk_hSymNKMaXkfmWjkPbRoyPqpqvL9U40kEvO2sgRLMCmA" alt="">
    <img src="https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcQgy3UcRHvQe7HFmd2fwcPShwljpuQG3WuLIN-vBkpayL3J0UcIWNqFPGcMTUzOupOfdTQYDXFLKMkMS1rAvRlDLWzIzjoyMvJQVc-blA" alt="">
    <img src="https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcSjBAyZHRjSoZSwdwjtz5HJ5qLyNPw8Xg7S59wITzvmQ5WRH4gB5q_wloIAsYmQz8uwWNUSaqAIin9PkI6r_XVfNrJ7jUUr_rBjFTDdGQ" alt="">
    <img src="https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcSzrg-46c2eFtwkbQrJ49VRKrcM98gHU5Ip7nT4km44KqRO7VErOWS4Jg_ByepcvCV9b8i70QOovzNrJTWl27tnAoDMivTOU5xfXNitRhM" alt="">
    <img src="https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcTRNousZPl5ce0fVnNLc5veFHdWrAtnHEbvB2hSrnilT9lBzv5Mr2aQBA-w-PFErAXhrCVeGtDfSDPM7XID9CQ5CV6mnLQgfTVknUO7Jw" alt="">
</div>
<article id="Mountain" class="py-5">
    <div class="box-card container" >
        <h2 class="text-center">Mountain</h2>
        <div class="row" id="MountainPlace">

        </div>
    </div>
</article>
<article id="Temple" class="py-5">
    <div class="box-card container" >
        <h2 class="text-center">Temple</h2>
        <div class="row" id="TemplePlace">

        </div>
    </div>
</article>
<article id="Island" class="py-5">
    <div class="box-card container">
        <h2 class="text-center">Island</h2>
        <div class="row" id="IslandPlace">

        </div>
    </div>
</article>
<div class="map">
    <h2>Our Location</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7989756.42716553!2d99.68789843382552!3d12.095149781653795!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x310787bfd4dc3743%3A0xe4b7bfe089f41253!2z4Z6A4Z6Y4Z-S4Z6W4Z674Z6H4Z62!5e0!3m2!1skm!2skh!4v1740643960443!5m2!1skm!2skh"
     width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>
<script type="module">
    import { places } from './data.js';
    
    const fallbackImage = "https://via.placeholder.com/300"; // Fallback image URL
    
    const renderPlaces = (category, containerId) => {
      // Filter places by category
      let filteredPlaces = places.filter(place => place.category === category);
      // Sort filtered places by views (highest first)
      filteredPlaces.sort((a, b) => b.views - a.views);
      // Take the top 4 items
      let topPlaces = filteredPlaces.slice(0, 4);
      let cardHtml = '';
      
      topPlaces.forEach(place => {
        // Debug: Log the original image value
        console.log(`Place ID ${place.id} raw image: "${place.image}"`);
        
        // Use fallback if image is empty or just whitespace
        let imageUrl = (place.image && place.image.trim() !== "") ? place.image : fallbackImage;
        console.log(`Using image for Place ID ${place.id}: "${imageUrl}"`);
        
        cardHtml += `
          <div class="col-6 col-xl-3 mt-3">
            <div class="card" data-id="${place.id}">
              <div class="image">
                <img class="w-100" src="${imageUrl}" alt="${place.title}">
              </div>
              <div class="title p-2">
                <p>${place.title}</p>
                <div class="icon">
                  <i class="bi bi-star"></i>
                  <i class="bi bi-star"></i>
                  <i class="bi bi-star"></i>
                  <i class="bi bi-star"></i>
                  <i class="bi bi-star"></i>
                </div>
              </div>
            </div>
          </div>
        `;
      });
      
      // Insert the generated HTML into the corresponding container
      document.getElementById(containerId).innerHTML = cardHtml;
    };
  
    // Render each category
    renderPlaces("Mountain", "MountainPlace");
    renderPlaces("Temple", "TemplePlace");
    renderPlaces("Island", "IslandPlace");
  </script>
  
